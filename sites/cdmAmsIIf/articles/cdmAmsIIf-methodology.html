<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AMS-II.F Methodology Walkthrough â€¢ cdmAmsIIf</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="AMS-II.F Methodology Walkthrough">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cdmAmsIIf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cdmAmsIIf-methodology.html">AMS-II.F Methodology Walkthrough</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>AMS-II.F Methodology Walkthrough</h1>
            
      

      <div class="hidden name"><code>cdmAmsIIf-methodology.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette demonstrates how to reproduce the AMS-II.F calculations
using <code>cdmAmsIIf</code>. The methodology covers agricultural energy
efficiency and fuel switching projects that reduce fossil fuel use in
processing, irrigation, or cooling systems. The core steps include
estimating baseline emissions, calculating project emissions, accounting
for leakage, and deriving net emission reductions.</p>
</div>
<div class="section level2">
<h2 id="applicability-checks">Applicability Checks<a class="anchor" aria-label="anchor" href="#applicability-checks"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cdmAmsIIf</span><span class="op">)</span></span>
<span></span>
<span><span class="va">baseline</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  baseline_total_energy_mwh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">220</span>, <span class="fl">195</span><span class="op">)</span>,</span>
<span>  baseline_fuel_energy_gj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">320</span>, <span class="fl">180</span><span class="op">)</span>,</span>
<span>  baseline_fuel_emission_factor_tco2_per_gj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.07</span>, <span class="fl">0.072</span><span class="op">)</span>,</span>
<span>  service_level_indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">420</span>, <span class="fl">380</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  project_total_energy_mwh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">138</span><span class="op">)</span>,</span>
<span>  project_fuel_energy_gj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">210</span>, <span class="fl">120</span><span class="op">)</span>,</span>
<span>  project_fuel_emission_factor_tco2_per_gj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.045</span>, <span class="fl">0.05</span><span class="op">)</span>,</span>
<span>  service_level_indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">420</span>, <span class="fl">380</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">monitoring</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  project_total_energy_mwh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12.5</span>, <span class="fl">11.2</span><span class="op">)</span>,</span>
<span>  service_level_indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.32</span><span class="op">)</span>,</span>
<span>  operating_hours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">220</span>, <span class="fl">215</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">applicability</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/assess_ams_iif_applicability.html">assess_ams_iif_applicability</a></span><span class="op">(</span></span>
<span>  baseline_data <span class="op">=</span> <span class="va">baseline</span>,</span>
<span>  project_data <span class="op">=</span> <span class="va">project</span>,</span>
<span>  monitoring_data <span class="op">=</span> <span class="va">monitoring</span>,</span>
<span>  intensity_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>energy_col <span class="op">=</span> <span class="st">"baseline_total_energy_mwh"</span>,</span>
<span>                        project_energy_col <span class="op">=</span> <span class="st">"project_total_energy_mwh"</span>,</span>
<span>                        output_col <span class="op">=</span> <span class="st">"service_level_indicator"</span><span class="op">)</span>,</span>
<span>  fuel_switch_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>energy_col <span class="op">=</span> <span class="st">"baseline_fuel_energy_gj"</span>,</span>
<span>                          emission_factor_col <span class="op">=</span> <span class="st">"baseline_fuel_emission_factor_tco2_per_gj"</span>,</span>
<span>                          project_energy_col <span class="op">=</span> <span class="st">"project_fuel_energy_gj"</span>,</span>
<span>                          project_emission_factor_col <span class="op">=</span> <span class="st">"project_fuel_emission_factor_tco2_per_gj"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">applicability</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 Ã— 2</span></span></span>
<span><span class="co">##   criterion        is_met</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> energy_intensity TRUE  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> fuel_switching   TRUE  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> monitoring       TRUE</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="simulated-dataset">Simulated Dataset<a class="anchor" aria-label="anchor" href="#simulated-dataset"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2024</span><span class="op">)</span></span>
<span><span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_ams_iif_dataset.html">simulate_ams_iif_dataset</a></span><span class="op">(</span>n_facilities <span class="op">=</span> <span class="fl">3</span>, n_periods <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
facility_id
</th>
<th style="text-align:right;">
monitoring_period
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:left;">
monitoring_date
</th>
<th style="text-align:left;">
monitoring_label
</th>
<th style="text-align:right;">
baseline_electricity_mwh
</th>
<th style="text-align:right;">
baseline_fuel_energy_gj
</th>
<th style="text-align:right;">
baseline_electricity_emission_factor_tco2_per_mwh
</th>
<th style="text-align:right;">
baseline_fuel_emission_factor_tco2_per_gj
</th>
<th style="text-align:right;">
baseline_total_energy_mwh
</th>
<th style="text-align:right;">
project_electricity_mwh
</th>
<th style="text-align:right;">
project_fuel_energy_gj
</th>
<th style="text-align:right;">
project_electricity_emission_factor_tco2_per_mwh
</th>
<th style="text-align:right;">
project_fuel_emission_factor_tco2_per_gj
</th>
<th style="text-align:right;">
project_total_energy_mwh
</th>
<th style="text-align:right;">
service_level_indicator
</th>
<th style="text-align:right;">
operating_hours
</th>
<th style="text-align:right;">
leakage_emissions_tco2e
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2023-01-02
</td>
<td style="text-align:left;">
2023-01
</td>
<td style="text-align:right;">
111.742
</td>
<td style="text-align:right;">
446.519
</td>
<td style="text-align:right;">
0.659
</td>
<td style="text-align:right;">
0.073
</td>
<td style="text-align:right;">
235.775
</td>
<td style="text-align:right;">
87.159
</td>
<td style="text-align:right;">
276.842
</td>
<td style="text-align:right;">
0.659
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
164.059
</td>
<td style="text-align:right;">
162.348
</td>
<td style="text-align:right;">
205.697
</td>
<td style="text-align:right;">
0.393
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
2023-02-05
</td>
<td style="text-align:left;">
2023-02
</td>
<td style="text-align:right;">
97.867
</td>
<td style="text-align:right;">
507.586
</td>
<td style="text-align:right;">
0.629
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
238.863
</td>
<td style="text-align:right;">
76.337
</td>
<td style="text-align:right;">
314.703
</td>
<td style="text-align:right;">
0.629
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
163.754
</td>
<td style="text-align:right;">
165.923
</td>
<td style="text-align:right;">
228.007
</td>
<td style="text-align:right;">
0.392
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
2023-03-13
</td>
<td style="text-align:left;">
2023-03
</td>
<td style="text-align:right;">
151.817
</td>
<td style="text-align:right;">
402.109
</td>
<td style="text-align:right;">
0.556
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
263.514
</td>
<td style="text-align:right;">
118.417
</td>
<td style="text-align:right;">
249.308
</td>
<td style="text-align:right;">
0.556
</td>
<td style="text-align:right;">
0.041
</td>
<td style="text-align:right;">
187.669
</td>
<td style="text-align:right;">
172.027
</td>
<td style="text-align:right;">
209.413
</td>
<td style="text-align:right;">
0.308
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:left;">
2023-04-28
</td>
<td style="text-align:left;">
2023-04
</td>
<td style="text-align:right;">
160.971
</td>
<td style="text-align:right;">
453.356
</td>
<td style="text-align:right;">
0.552
</td>
<td style="text-align:right;">
0.065
</td>
<td style="text-align:right;">
286.904
</td>
<td style="text-align:right;">
125.558
</td>
<td style="text-align:right;">
281.081
</td>
<td style="text-align:right;">
0.552
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
203.636
</td>
<td style="text-align:right;">
171.502
</td>
<td style="text-align:right;">
238.673
</td>
<td style="text-align:right;">
0.353
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_02
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:left;">
2023-01-17
</td>
<td style="text-align:left;">
2023-01
</td>
<td style="text-align:right;">
147.384
</td>
<td style="text-align:right;">
290.333
</td>
<td style="text-align:right;">
0.617
</td>
<td style="text-align:right;">
0.070
</td>
<td style="text-align:right;">
228.032
</td>
<td style="text-align:right;">
114.960
</td>
<td style="text-align:right;">
180.007
</td>
<td style="text-align:right;">
0.617
</td>
<td style="text-align:right;">
0.045
</td>
<td style="text-align:right;">
164.961
</td>
<td style="text-align:right;">
194.928
</td>
<td style="text-align:right;">
225.484
</td>
<td style="text-align:right;">
0.244
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_02
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
2023-02-13
</td>
<td style="text-align:left;">
2023-02
</td>
<td style="text-align:right;">
57.488
</td>
<td style="text-align:right;">
410.071
</td>
<td style="text-align:right;">
0.536
</td>
<td style="text-align:right;">
0.060
</td>
<td style="text-align:right;">
171.397
</td>
<td style="text-align:right;">
44.841
</td>
<td style="text-align:right;">
254.244
</td>
<td style="text-align:right;">
0.536
</td>
<td style="text-align:right;">
0.039
</td>
<td style="text-align:right;">
115.464
</td>
<td style="text-align:right;">
150.018
</td>
<td style="text-align:right;">
219.691
</td>
<td style="text-align:right;">
0.297
</td>
</tr>
</tbody>
</table>
<p>The simulation includes monitoring metadata
(<code>facility_id</code>, <code>year</code>, <code>month</code>,
<code>day</code>, and <code>monitoring_label</code>) alongside baseline
fuel and electricity use, project conditions, service indicators, and
leakage placeholders.</p>
</div>
<div class="section level2">
<h2 id="equation-walkthrough">Equation Walkthrough<a class="anchor" aria-label="anchor" href="#equation-walkthrough"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baseline_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_baseline_agricultural_emissions.html">calculate_baseline_agricultural_emissions</a></span><span class="op">(</span></span>
<span>  <span class="va">example_data</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"facility_id"</span>, <span class="st">"monitoring_label"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">project_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_project_agricultural_emissions.html">calculate_project_agricultural_emissions</a></span><span class="op">(</span></span>
<span>  <span class="va">example_data</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"facility_id"</span>, <span class="st">"monitoring_label"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">leakage_emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_leakage_emissions_iif.html">calculate_leakage_emissions_iif</a></span><span class="op">(</span></span>
<span>  <span class="va">example_data</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"facility_id"</span>, <span class="st">"monitoring_label"</span><span class="op">)</span>,</span>
<span>  leakage_col <span class="op">=</span> <span class="st">"leakage_emissions_tco2e"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">emission_reductions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_emission_reductions_iif.html">calculate_emission_reductions_iif</a></span><span class="op">(</span></span>
<span>  <span class="va">baseline_emissions</span>,</span>
<span>  <span class="va">project_emissions</span>,</span>
<span>  <span class="va">leakage_emissions</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"facility_id"</span>, <span class="st">"monitoring_label"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">emission_reductions</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"html"</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
facility_id
</th>
<th style="text-align:left;">
monitoring_label
</th>
<th style="text-align:right;">
emission_reductions_tco2e
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:left;">
2023-01
</td>
<td style="text-align:right;">
35.362
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:left;">
2023-02
</td>
<td style="text-align:right;">
32.676
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:left;">
2023-03
</td>
<td style="text-align:right;">
33.572
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:left;">
2023-04
</td>
<td style="text-align:right;">
36.752
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_02
</td>
<td style="text-align:left;">
2023-01
</td>
<td style="text-align:right;">
31.898
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_02
</td>
<td style="text-align:left;">
2023-02
</td>
<td style="text-align:right;">
21.253
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="monitoring-period-aggregation">Monitoring Period Aggregation<a class="anchor" aria-label="anchor" href="#monitoring-period-aggregation"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">period_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aggregate_monitoring_periods_iif.html">aggregate_monitoring_periods_iif</a></span><span class="op">(</span></span>
<span>  monitoring_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  period_col <span class="op">=</span> <span class="st">"monitoring_label"</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="st">"facility_id"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="va">period_summary</span>, format <span class="op">=</span> <span class="st">"html"</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
facility_id
</th>
<th style="text-align:left;">
monitoring_period
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:right;">
baseline_electricity_mwh
</th>
<th style="text-align:right;">
baseline_fuel_energy_gj
</th>
<th style="text-align:right;">
baseline_electricity_emission_factor_tco2_per_mwh
</th>
<th style="text-align:right;">
baseline_fuel_emission_factor_tco2_per_gj
</th>
<th style="text-align:right;">
baseline_total_energy_mwh
</th>
<th style="text-align:right;">
project_electricity_mwh
</th>
<th style="text-align:right;">
project_fuel_energy_gj
</th>
<th style="text-align:right;">
project_electricity_emission_factor_tco2_per_mwh
</th>
<th style="text-align:right;">
project_fuel_emission_factor_tco2_per_gj
</th>
<th style="text-align:right;">
project_total_energy_mwh
</th>
<th style="text-align:right;">
service_level_indicator
</th>
<th style="text-align:right;">
operating_hours
</th>
<th style="text-align:right;">
leakage_emissions_tco2e
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
facility_01
</td>
<td style="text-align:left;">
2023-01, 2023-02, 2023-03, 2023-04
</td>
<td style="text-align:right;">
8092
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
522.397
</td>
<td style="text-align:right;">
1809.571
</td>
<td style="text-align:right;">
2.396
</td>
<td style="text-align:right;">
0.266
</td>
<td style="text-align:right;">
1025.056
</td>
<td style="text-align:right;">
407.470
</td>
<td style="text-align:right;">
1121.934
</td>
<td style="text-align:right;">
2.396
</td>
<td style="text-align:right;">
0.173
</td>
<td style="text-align:right;">
719.118
</td>
<td style="text-align:right;">
671.800
</td>
<td style="text-align:right;">
881.791
</td>
<td style="text-align:right;">
1.446
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_02
</td>
<td style="text-align:left;">
2023-01, 2023-02, 2023-03, 2023-04
</td>
<td style="text-align:right;">
8092
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
457.705
</td>
<td style="text-align:right;">
1425.238
</td>
<td style="text-align:right;">
2.347
</td>
<td style="text-align:right;">
0.274
</td>
<td style="text-align:right;">
853.605
</td>
<td style="text-align:right;">
357.010
</td>
<td style="text-align:right;">
883.648
</td>
<td style="text-align:right;">
2.347
</td>
<td style="text-align:right;">
0.178
</td>
<td style="text-align:right;">
602.468
</td>
<td style="text-align:right;">
639.523
</td>
<td style="text-align:right;">
897.955
</td>
<td style="text-align:right;">
1.170
</td>
</tr>
<tr>
<td style="text-align:left;">
facility_03
</td>
<td style="text-align:left;">
2023-01, 2023-02, 2023-03, 2023-04
</td>
<td style="text-align:right;">
8092
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
509.011
</td>
<td style="text-align:right;">
1480.094
</td>
<td style="text-align:right;">
2.241
</td>
<td style="text-align:right;">
0.285
</td>
<td style="text-align:right;">
920.148
</td>
<td style="text-align:right;">
397.028
</td>
<td style="text-align:right;">
917.658
</td>
<td style="text-align:right;">
2.241
</td>
<td style="text-align:right;">
0.185
</td>
<td style="text-align:right;">
651.933
</td>
<td style="text-align:right;">
599.562
</td>
<td style="text-align:right;">
823.475
</td>
<td style="text-align:right;">
1.273
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="meta-function">Meta-Function<a class="anchor" aria-label="anchor" href="#meta-function"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/estimate_emission_reductions_ams_iif.html">estimate_emission_reductions_ams_iif</a></span><span class="op">(</span></span>
<span>  baseline_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  project_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  leakage_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"facility_id"</span>, <span class="st">"monitoring_label"</span><span class="op">)</span>,</span>
<span>  leakage_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>leakage_col <span class="op">=</span> <span class="st">"leakage_emissions_tco2e"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 12 Ã— 3</span></span></span>
<span><span class="co">##    facility_id monitoring_label emission_reductions_tco2e</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> facility_01 2023-01                               35.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> facility_01 2023-02                               32.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> facility_01 2023-03                               33.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> facility_01 2023-04                               36.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> facility_02 2023-01                               31.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> facility_02 2023-02                               21.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> facility_02 2023-03                               39.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> facility_02 2023-04                               25.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> facility_03 2023-01                               37.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> facility_03 2023-02                               25.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> facility_03 2023-03                               25.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> facility_03 2023-04                               35.8</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="function-reference">Function Reference<a class="anchor" aria-label="anchor" href="#function-reference"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">function_reference</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  Function <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"`calculate_baseline_agricultural_emissions()`"</span>,</span>
<span>    <span class="st">"`calculate_project_agricultural_emissions()`"</span>,</span>
<span>    <span class="st">"`calculate_leakage_emissions_iif()`"</span>,</span>
<span>    <span class="st">"`calculate_emission_reductions_iif()`"</span>,</span>
<span>    <span class="st">"`aggregate_monitoring_periods_iif()`"</span>,</span>
<span>    <span class="st">"`estimate_emission_reductions_ams_iif()`"</span>,</span>
<span>    <span class="st">"`simulate_ams_iif_dataset()`"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Signature <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"`calculate_baseline_agricultural_emissions(baseline_data, fuel_energy_col = \"baseline_fuel_energy_gj\", fuel_emission_factor_col = \"baseline_fuel_emission_factor_tco2_per_gj\", electricity_col = \"baseline_electricity_mwh\", electricity_emission_factor_col = \"baseline_electricity_emission_factor_tco2_per_mwh\", group_cols = NULL, output_col = \"baseline_emissions_tco2e\")`"</span>,</span>
<span>    <span class="st">"`calculate_project_agricultural_emissions(project_data, fuel_energy_col = \"project_fuel_energy_gj\", fuel_emission_factor_col = \"project_fuel_emission_factor_tco2_per_gj\", electricity_col = \"project_electricity_mwh\", electricity_emission_factor_col = \"project_electricity_emission_factor_tco2_per_mwh\", group_cols = NULL, output_col = \"project_emissions_tco2e\")`"</span>,</span>
<span>    <span class="st">"`calculate_leakage_emissions_iif(leakage_data, leakage_col = \"leakage_emissions_tco2e\", group_cols = NULL, output_col = \"leakage_emissions_tco2e\")`"</span>,</span>
<span>    <span class="st">"`calculate_emission_reductions_iif(baseline_emissions, project_emissions, leakage_emissions = NULL, baseline_col = \"baseline_emissions_tco2e\", project_col = \"project_emissions_tco2e\", leakage_col = \"leakage_emissions_tco2e\", output_col = \"emission_reductions_tco2e\", group_cols = NULL)`"</span>,</span>
<span>    <span class="st">"`aggregate_monitoring_periods_iif(monitoring_data, period_col = \"monitoring_period\", group_cols = NULL, summarise_cols = NULL, output_col = \"monitoring_period\")`"</span>,</span>
<span>    <span class="st">"`estimate_emission_reductions_ams_iif(baseline_data, project_data, leakage_data = NULL, group_cols = NULL, baseline_args = list(), project_args = list(), leakage_args = list(), reduction_args = list())`"</span>,</span>
<span>    <span class="st">"`simulate_ams_iif_dataset(n_facilities = 6, n_periods = 12, start_year = 2023, start_month = 1, baseline_electricity_mean = 140, baseline_fuel_mean = 420, electricity_savings = 0.22, fuel_savings = 0.38, fuel_switch_reduction = 0.35)`"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Purpose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Aggregates baseline fossil fuel and electricity use into emissions.&lt;br&gt;\\(BE_y = \\sum_i Fuel^{BL}_{i,y} \\times EF^{fuel,BL}_{i,y} + \\sum_i E^{el,BL}_{i,y} \\times EF^{el,BL}_{i,y}\\)"</span>,</span>
<span>    <span class="st">"Summarises project energy use into comparable emission totals.&lt;br&gt;\\(PE_y = \\sum_i Fuel^{PR}_{i,y} \\times EF^{fuel,PR}_{i,y} + \\sum_i E^{el,PR}_{i,y} \\times EF^{el,PR}_{i,y}\\)"</span>,</span>
<span>    <span class="st">"Collects leakage emissions associated with agricultural interventions.&lt;br&gt;\\(LE_y = \\sum_i LE_{i,y}\\)"</span>,</span>
<span>    <span class="st">"Computes emission reductions from baseline, project, and leakage components.&lt;br&gt;\\(ER_y = BE_y - (PE_y + LE_y)\\)"</span>,</span>
<span>    <span class="st">"Rolls monitoring data to reporting periods for downstream analysis.&lt;br&gt;\\(ER_{p,y} = BE_{p,y} - (PE_{p,y} + LE_{p,y})\\)"</span>,</span>
<span>    <span class="st">"Wrapper orchestrating the baseline, project, leakage, and reduction helpers.&lt;br&gt;\\(ER_y = BE_y - (PE_y + LE_y)\\)"</span>,</span>
<span>    <span class="st">"Generates representative agricultural monitoring datasets for demos and tests."</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="va">function_reference</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Signature
</th>
<th style="text-align:left;">
Purpose
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_baseline_agricultural_emissions.html">calculate_baseline_agricultural_emissions()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_baseline_agricultural_emissions(baseline_data, fuel_energy_col = "baseline_fuel_energy_gj", fuel_emission_factor_col = "baseline_fuel_emission_factor_tco2_per_gj", electricity_col = "baseline_electricity_mwh", electricity_emission_factor_col = "baseline_electricity_emission_factor_tco2_per_mwh", group_cols = NULL, output_col = "baseline_emissions_tco2e")</code>
</td>
<td style="text-align:left;">
Aggregates baseline fossil fuel and electricity use into
emissions.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><msub><mi>E</mi><mi>y</mi></msub><mo>=</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><mi>F</mi><mi>u</mi><mi>e</mi><msubsup><mi>l</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>B</mi><mi>L</mi></mrow></msubsup><mo>Ã—</mo><mi>E</mi><msubsup><mi>F</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>f</mi><mi>u</mi><mi>e</mi><mi>l</mi><mo>,</mo><mi>B</mi><mi>L</mi></mrow></msubsup><mo>+</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><msubsup><mi>E</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>e</mi><mi>l</mi><mo>,</mo><mi>B</mi><mi>L</mi></mrow></msubsup><mo>Ã—</mo><mi>E</mi><msubsup><mi>F</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>e</mi><mi>l</mi><mo>,</mo><mi>B</mi><mi>L</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">BE_y = \sum_i Fuel^{BL}_{i,y} \times EF^{fuel,BL}_{i,y} + \sum_i E^{el,BL}_{i,y} \times EF^{el,BL}_{i,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_project_agricultural_emissions.html">calculate_project_agricultural_emissions()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_project_agricultural_emissions(project_data, fuel_energy_col = "project_fuel_energy_gj", fuel_emission_factor_col = "project_fuel_emission_factor_tco2_per_gj", electricity_col = "project_electricity_mwh", electricity_emission_factor_col = "project_electricity_emission_factor_tco2_per_mwh", group_cols = NULL, output_col = "project_emissions_tco2e")</code>
</td>
<td style="text-align:left;">
Summarises project energy use into comparable emission
totals.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><msub><mi>E</mi><mi>y</mi></msub><mo>=</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><mi>F</mi><mi>u</mi><mi>e</mi><msubsup><mi>l</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>P</mi><mi>R</mi></mrow></msubsup><mo>Ã—</mo><mi>E</mi><msubsup><mi>F</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>f</mi><mi>u</mi><mi>e</mi><mi>l</mi><mo>,</mo><mi>P</mi><mi>R</mi></mrow></msubsup><mo>+</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><msubsup><mi>E</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>e</mi><mi>l</mi><mo>,</mo><mi>P</mi><mi>R</mi></mrow></msubsup><mo>Ã—</mo><mi>E</mi><msubsup><mi>F</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow><mrow><mi>e</mi><mi>l</mi><mo>,</mo><mi>P</mi><mi>R</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">PE_y = \sum_i Fuel^{PR}_{i,y} \times EF^{fuel,PR}_{i,y} + \sum_i E^{el,PR}_{i,y} \times EF^{el,PR}_{i,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_leakage_emissions_iif.html">calculate_leakage_emissions_iif()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_leakage_emissions_iif(leakage_data, leakage_col = "leakage_emissions_tco2e", group_cols = NULL, output_col = "leakage_emissions_tco2e")</code>
</td>
<td style="text-align:left;">
Collects leakage emissions associated with agricultural
interventions.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><msub><mi>E</mi><mi>y</mi></msub><mo>=</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><mi>L</mi><msub><mi>E</mi><mrow><mi>i</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">LE_y = \sum_i LE_{i,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_emission_reductions_iif.html">calculate_emission_reductions_iif()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_emission_reductions_iif(baseline_emissions, project_emissions, leakage_emissions = NULL, baseline_col = "baseline_emissions_tco2e", project_col = "project_emissions_tco2e", leakage_col = "leakage_emissions_tco2e", output_col = "emission_reductions_tco2e", group_cols = NULL)</code>
</td>
<td style="text-align:left;">
Computes emission reductions from baseline, project, and leakage
components.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><mi>B</mi><msub><mi>E</mi><mi>y</mi></msub><mo>âˆ’</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>P</mi><msub><mi>E</mi><mi>y</mi></msub><mo>+</mo><mi>L</mi><msub><mi>E</mi><mi>y</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER_y = BE_y - (PE_y + LE_y)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/aggregate_monitoring_periods_iif.html">aggregate_monitoring_periods_iif()</a></code>
</td>
<td style="text-align:left;">
<code>aggregate_monitoring_periods_iif(monitoring_data, period_col = "monitoring_period", group_cols = NULL, summarise_cols = NULL, output_col = "monitoring_period")</code>
</td>
<td style="text-align:left;">
Rolls monitoring data to reporting periods for downstream
analysis.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>R</mi><mrow><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>=</mo><mi>B</mi><msub><mi>E</mi><mrow><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>âˆ’</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>P</mi><msub><mi>E</mi><mrow><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>+</mo><mi>L</mi><msub><mi>E</mi><mrow><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER_{p,y} = BE_{p,y} - (PE_{p,y} + LE_{p,y})</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/estimate_emission_reductions_ams_iif.html">estimate_emission_reductions_ams_iif()</a></code>
</td>
<td style="text-align:left;">
<code>estimate_emission_reductions_ams_iif(baseline_data, project_data, leakage_data = NULL, group_cols = NULL, baseline_args = list(), project_args = list(), leakage_args = list(), reduction_args = list())</code>
</td>
<td style="text-align:left;">
Wrapper orchestrating the baseline, project, leakage, and reduction
helpers.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><mi>B</mi><msub><mi>E</mi><mi>y</mi></msub><mo>âˆ’</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>P</mi><msub><mi>E</mi><mi>y</mi></msub><mo>+</mo><mi>L</mi><msub><mi>E</mi><mi>y</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER_y = BE_y - (PE_y + LE_y)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/simulate_ams_iif_dataset.html">simulate_ams_iif_dataset()</a></code>
</td>
<td style="text-align:left;">
<code>simulate_ams_iif_dataset(n_facilities = 6, n_periods = 12, start_year = 2023, start_month = 1, baseline_electricity_mean = 140, baseline_fuel_mean = 420, electricity_savings = 0.22, fuel_savings = 0.38, fuel_switch_reduction = 0.35)</code>
</td>
<td style="text-align:left;">
Generates representative agricultural monitoring datasets for demos and
tests.
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="workflow-overview">Workflow Overview<a class="anchor" aria-label="anchor" href="#workflow-overview"></a>
</h2>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Step
</th>
<th style="text-align:left;">
Purpose
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Input agricultural monitoring data
</td>
<td style="text-align:left;">
Collect facility-level baseline, project, and leakage metrics.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_baseline_agricultural_emissions
</td>
<td style="text-align:left;">
Translate baseline fuel and electricity use into emissions.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_project_agricultural_emissions
</td>
<td style="text-align:left;">
Quantify project emissions after efficiency and fuel-switch measures.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_leakage_emissions_iif
</td>
<td style="text-align:left;">
Summarise leakage contributions across the supply chain.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_emission_reductions_iif
</td>
<td style="text-align:left;">
Compute net emission reductions for each facility-period.
</td>
</tr>
<tr>
<td style="text-align:left;">
estimate_emission_reductions_ams_iif
</td>
<td style="text-align:left;">
Return a tidy tibble with reductions and diagnostic columns.
</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Christiaan Pauw.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
