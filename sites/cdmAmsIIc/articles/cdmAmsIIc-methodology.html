<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AMS-II.C Methodology Walkthrough â€¢ cdmAmsIIc</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="AMS-II.C Methodology Walkthrough">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cdmAmsIIc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cdmAmsIIc-methodology.html">AMS-II.C Methodology Walkthrough</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>AMS-II.C Methodology Walkthrough</h1>
            
      

      <div class="hidden name"><code>cdmAmsIIc-methodology.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette demonstrates how to reproduce the AMS-II.C calculations
using <code>cdmAmsIIc</code>. The methodology covers demand-side energy
efficiency projects that retrofit specific technologies (lighting,
motors, HVAC, refrigeration) with more efficient alternatives. The core
steps include aggregating baseline and project energy, computing energy
savings, and converting the savings into emission reductions with the
appropriate grid or fuel emission factor.</p>
</div>
<div class="section level2">
<h2 id="applicability-checks">Applicability Checks<a class="anchor" aria-label="anchor" href="#applicability-checks"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cdmAmsIIc</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/check_applicability_energy_savings.html">check_applicability_energy_savings</a></span><span class="op">(</span>annual_energy_savings_mwh <span class="op">=</span> <span class="fl">42000</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_applicability_technology.html">check_applicability_technology</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"efficient_lighting"</span>, <span class="st">"variable_speed_drives"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_applicability_monitoring.html">check_applicability_monitoring</a></span><span class="op">(</span><span class="st">"continuous_metering"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="simulated-dataset">Simulated Dataset<a class="anchor" aria-label="anchor" href="#simulated-dataset"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_ams_iic_dataset.html">simulate_ams_iic_dataset</a></span><span class="op">(</span>n_sites <span class="op">=</span> <span class="fl">4</span>, n_periods <span class="op">=</span> <span class="fl">6</span>, start_year <span class="op">=</span> <span class="fl">2024</span>, start_month <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
site_id
</th>
<th style="text-align:right;">
monitoring_period
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:left;">
monitoring_date
</th>
<th style="text-align:left;">
monitoring_label
</th>
<th style="text-align:right;">
baseline_energy_mwh
</th>
<th style="text-align:right;">
project_energy_mwh
</th>
<th style="text-align:right;">
emission_factor_tco2e_mwh
</th>
<th style="text-align:left;">
technology
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
2024-07-15
</td>
<td style="text-align:left;">
2024-07
</td>
<td style="text-align:right;">
325.285
</td>
<td style="text-align:right;">
223.988
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:left;">
compressed_air_improvement
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:left;">
2024-08-19
</td>
<td style="text-align:left;">
2024-08
</td>
<td style="text-align:right;">
188.666
</td>
<td style="text-align:right;">
129.913
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:left;">
compressed_air_improvement
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
2024-09-14
</td>
<td style="text-align:left;">
2024-09
</td>
<td style="text-align:right;">
437.432
</td>
<td style="text-align:right;">
301.211
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:left;">
compressed_air_improvement
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
2024-10-03
</td>
<td style="text-align:left;">
2024-10
</td>
<td style="text-align:right;">
387.627
</td>
<td style="text-align:right;">
266.916
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:left;">
compressed_air_improvement
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
2024-11-10
</td>
<td style="text-align:left;">
2024-11
</td>
<td style="text-align:right;">
294.089
</td>
<td style="text-align:right;">
202.507
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:left;">
compressed_air_improvement
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:left;">
2024-12-18
</td>
<td style="text-align:left;">
2024-12
</td>
<td style="text-align:right;">
216.742
</td>
<td style="text-align:right;">
149.246
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:left;">
compressed_air_improvement
</td>
</tr>
</tbody>
</table>
<p>The simulation includes monitoring metadata
(<code>monitoring_period</code>, <code>year</code>, <code>month</code>,
<code>day</code>, and <code>monitoring_label</code>) so that
calculations can be aggregated over reporting periods while preserving
site-level identifiers and emission factors.</p>
</div>
<div class="section level2">
<h2 id="equation-walkthrough">Equation Walkthrough<a class="anchor" aria-label="anchor" href="#equation-walkthrough"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baseline_energy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_baseline_energy_consumption.html">calculate_baseline_energy_consumption</a></span><span class="op">(</span><span class="va">example_data</span>, group_cols <span class="op">=</span> <span class="st">"site_id"</span><span class="op">)</span></span>
<span><span class="va">project_energy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_project_energy_consumption.html">calculate_project_energy_consumption</a></span><span class="op">(</span><span class="va">example_data</span>, group_cols <span class="op">=</span> <span class="st">"site_id"</span><span class="op">)</span></span>
<span><span class="va">energy_savings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_energy_savings.html">calculate_energy_savings</a></span><span class="op">(</span><span class="va">baseline_energy</span>, <span class="va">project_energy</span><span class="op">)</span></span>
<span><span class="va">emission_reductions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_emission_reductions.html">calculate_emission_reductions</a></span><span class="op">(</span></span>
<span>  <span class="va">energy_savings</span>,</span>
<span>  emission_factor <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">emission_factor_tco2e_mwh</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">emission_reductions</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"html"</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
site_id
</th>
<th style="text-align:right;">
baseline_energy_mwh
</th>
<th style="text-align:right;">
project_energy_mwh
</th>
<th style="text-align:right;">
energy_savings_mwh
</th>
<th style="text-align:right;">
emission_reductions_tco2e
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
1849.841
</td>
<td style="text-align:right;">
1273.781
</td>
<td style="text-align:right;">
576.060
</td>
<td style="text-align:right;">
391.721
</td>
</tr>
<tr>
<td style="text-align:left;">
site_02
</td>
<td style="text-align:right;">
1653.012
</td>
<td style="text-align:right;">
1050.774
</td>
<td style="text-align:right;">
602.238
</td>
<td style="text-align:right;">
409.522
</td>
</tr>
<tr>
<td style="text-align:left;">
site_03
</td>
<td style="text-align:right;">
1473.489
</td>
<td style="text-align:right;">
1047.688
</td>
<td style="text-align:right;">
425.801
</td>
<td style="text-align:right;">
289.544
</td>
</tr>
<tr>
<td style="text-align:left;">
site_04
</td>
<td style="text-align:right;">
1535.686
</td>
<td style="text-align:right;">
964.830
</td>
<td style="text-align:right;">
570.857
</td>
<td style="text-align:right;">
388.183
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="monitoring-period-aggregation">Monitoring Period Aggregation<a class="anchor" aria-label="anchor" href="#monitoring-period-aggregation"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">period_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aggregate_monitoring_periods.html">aggregate_monitoring_periods</a></span><span class="op">(</span></span>
<span>  efficiency_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  monitoring_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"monitoring_label"</span><span class="op">)</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="st">"site_id"</span>,</span>
<span>  baseline_energy_col <span class="op">=</span> <span class="st">"baseline_energy_mwh"</span>,</span>
<span>  project_energy_col <span class="op">=</span> <span class="st">"project_energy_mwh"</span>,</span>
<span>  emission_factor_col <span class="op">=</span> <span class="st">"emission_factor_tco2e_mwh"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">period_summary</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"html"</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
site_id
</th>
<th style="text-align:left;">
monitoring_label
</th>
<th style="text-align:right;">
baseline_energy_mwh
</th>
<th style="text-align:right;">
project_energy_mwh
</th>
<th style="text-align:right;">
energy_savings_mwh
</th>
<th style="text-align:right;">
emission_factor_tco2e_mwh
</th>
<th style="text-align:right;">
emission_reductions_tco2e
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:left;">
2024-07
</td>
<td style="text-align:right;">
325.285
</td>
<td style="text-align:right;">
223.988
</td>
<td style="text-align:right;">
101.297
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
68.882
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:left;">
2024-08
</td>
<td style="text-align:right;">
188.666
</td>
<td style="text-align:right;">
129.913
</td>
<td style="text-align:right;">
58.752
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
39.952
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:left;">
2024-09
</td>
<td style="text-align:right;">
437.432
</td>
<td style="text-align:right;">
301.211
</td>
<td style="text-align:right;">
136.221
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
92.630
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:left;">
2024-10
</td>
<td style="text-align:right;">
387.627
</td>
<td style="text-align:right;">
266.916
</td>
<td style="text-align:right;">
120.711
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
82.083
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:left;">
2024-11
</td>
<td style="text-align:right;">
294.089
</td>
<td style="text-align:right;">
202.507
</td>
<td style="text-align:right;">
91.582
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
62.276
</td>
</tr>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:left;">
2024-12
</td>
<td style="text-align:right;">
216.742
</td>
<td style="text-align:right;">
149.246
</td>
<td style="text-align:right;">
67.496
</td>
<td style="text-align:right;">
0.68
</td>
<td style="text-align:right;">
45.897
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="meta-function">Meta-Function<a class="anchor" aria-label="anchor" href="#meta-function"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wrapper_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_emission_reductions_ams_iic.html">estimate_emission_reductions_ams_iic</a></span><span class="op">(</span></span>
<span>  baseline_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  project_data <span class="op">=</span> <span class="va">example_data</span>,</span>
<span>  emission_factor <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">emission_factor_tco2e_mwh</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  group_cols <span class="op">=</span> <span class="st">"site_id"</span>,</span>
<span>  baseline_energy_col <span class="op">=</span> <span class="st">"baseline_energy_mwh"</span>,</span>
<span>  project_energy_col <span class="op">=</span> <span class="st">"project_energy_mwh"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="va">wrapper_results</span>, format <span class="op">=</span> <span class="st">"html"</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
site_id
</th>
<th style="text-align:right;">
baseline_energy_mwh
</th>
<th style="text-align:right;">
project_energy_mwh
</th>
<th style="text-align:right;">
energy_savings_mwh
</th>
<th style="text-align:right;">
emission_reductions_tco2e
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
site_01
</td>
<td style="text-align:right;">
1849.841
</td>
<td style="text-align:right;">
1273.781
</td>
<td style="text-align:right;">
576.060
</td>
<td style="text-align:right;">
391.721
</td>
</tr>
<tr>
<td style="text-align:left;">
site_02
</td>
<td style="text-align:right;">
1653.012
</td>
<td style="text-align:right;">
1050.774
</td>
<td style="text-align:right;">
602.238
</td>
<td style="text-align:right;">
409.522
</td>
</tr>
<tr>
<td style="text-align:left;">
site_03
</td>
<td style="text-align:right;">
1473.489
</td>
<td style="text-align:right;">
1047.688
</td>
<td style="text-align:right;">
425.801
</td>
<td style="text-align:right;">
289.544
</td>
</tr>
<tr>
<td style="text-align:left;">
site_04
</td>
<td style="text-align:right;">
1535.686
</td>
<td style="text-align:right;">
964.830
</td>
<td style="text-align:right;">
570.857
</td>
<td style="text-align:right;">
388.183
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="function-reference">Function Reference<a class="anchor" aria-label="anchor" href="#function-reference"></a>
</h2>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">function_reference</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  Function <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"`calculate_baseline_energy_consumption()`"</span>,</span>
<span>    <span class="st">"`calculate_project_energy_consumption()`"</span>,</span>
<span>    <span class="st">"`calculate_energy_savings()`"</span>,</span>
<span>    <span class="st">"`calculate_emission_reductions()`"</span>,</span>
<span>    <span class="st">"`aggregate_monitoring_periods()`"</span>,</span>
<span>    <span class="st">"`estimate_emission_reductions_ams_iic()`"</span>,</span>
<span>    <span class="st">"`simulate_ams_iic_dataset()`"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Signature <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"`calculate_baseline_energy_consumption(baseline_data, energy_col = \"baseline_energy_mwh\", group_cols = NULL, output_col = \"baseline_energy_mwh\")`"</span>,</span>
<span>    <span class="st">"`calculate_project_energy_consumption(project_data, energy_col = \"project_energy_mwh\", group_cols = NULL, output_col = \"project_energy_mwh\")`"</span>,</span>
<span>    <span class="st">"`calculate_energy_savings(baseline_energy, project_energy, baseline_col = \"baseline_energy_mwh\", project_col = \"project_energy_mwh\", output_col = \"energy_savings_mwh\")`"</span>,</span>
<span>    <span class="st">"`calculate_emission_reductions(energy_savings, emission_factor, savings_col = \"energy_savings_mwh\", output_col = \"emission_reductions_tco2e\")`"</span>,</span>
<span>    <span class="st">"`aggregate_monitoring_periods(efficiency_data, monitoring_cols = c(\"year\", \"month\"), group_cols = \"site_id\", baseline_energy_col = \"baseline_energy_mwh\", project_energy_col = \"project_energy_mwh\", emission_factor_col = \"emission_factor_tco2e_mwh\")`"</span>,</span>
<span>    <span class="st">"`estimate_emission_reductions_ams_iic(baseline_data, project_data, emission_factor, group_cols = NULL, baseline_energy_col = \"baseline_energy_mwh\", project_energy_col = \"project_energy_mwh\")`"</span>,</span>
<span>    <span class="st">"`simulate_ams_iic_dataset(n_sites = 8, n_periods = 12, start_year = 2023, start_month = 1, baseline_energy_mean = 120, project_energy_mean = 75, emission_factor = 0.62)`"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Purpose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Aggregates baseline energy consumption prior to efficiency upgrades.&lt;br&gt;\\(E_{BL,y} = \\sum_i E_{BL,i,y}\\)"</span>,</span>
<span>    <span class="st">"Summarises monitored project energy use for efficient technologies.&lt;br&gt;\\(E_{PR,y} = \\sum_i E_{PR,i,y}\\)"</span>,</span>
<span>    <span class="st">"Computes energy savings as the difference between baseline and project energy.&lt;br&gt;\\(ES_y = E_{BL,y} - E_{PR,y}\\)"</span>,</span>
<span>    <span class="st">"Converts energy savings to emission reductions using emission factors.&lt;br&gt;\\(ER_y = ES_y \\times EF_y\\)"</span>,</span>
<span>    <span class="st">"Rolls monitoring data to reporting periods with energy and emission summaries.&lt;br&gt;\\(ER_{p,y} = (\\sum_i E_{BL,i,p,y} - \\sum_i E_{PR,i,p,y}) \\times EF_{p,y}\\)"</span>,</span>
<span>    <span class="st">"High-level wrapper composing baseline, project, and reduction helpers.&lt;br&gt;\\(ER_y = (E_{BL,y} - E_{PR,y}) \\times EF_y\\)"</span>,</span>
<span>    <span class="st">"Generates representative efficiency datasets for demonstrations and tests."</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quiet_kable</span><span class="op">(</span><span class="va">function_reference</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Signature
</th>
<th style="text-align:left;">
Purpose
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_baseline_energy_consumption.html">calculate_baseline_energy_consumption()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_baseline_energy_consumption(baseline_data, energy_col = "baseline_energy_mwh", group_cols = NULL, output_col = "baseline_energy_mwh")</code>
</td>
<td style="text-align:left;">
Aggregates baseline energy consumption prior to efficiency
upgrades.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>B</mi><mi>L</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>=</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><msub><mi>E</mi><mrow><mi>B</mi><mi>L</mi><mo>,</mo><mi>i</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E_{BL,y} = \sum_i E_{BL,i,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_project_energy_consumption.html">calculate_project_energy_consumption()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_project_energy_consumption(project_data, energy_col = "project_energy_mwh", group_cols = NULL, output_col = "project_energy_mwh")</code>
</td>
<td style="text-align:left;">
Summarises monitored project energy use for efficient
technologies.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>P</mi><mi>R</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>=</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><msub><mi>E</mi><mrow><mi>P</mi><mi>R</mi><mo>,</mo><mi>i</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E_{PR,y} = \sum_i E_{PR,i,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_energy_savings.html">calculate_energy_savings()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_energy_savings(baseline_energy, project_energy, baseline_col = "baseline_energy_mwh", project_col = "project_energy_mwh", output_col = "energy_savings_mwh")</code>
</td>
<td style="text-align:left;">
Computes energy savings as the difference between baseline and project
energy.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>S</mi><mi>y</mi></msub><mo>=</mo><msub><mi>E</mi><mrow><mi>B</mi><mi>L</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>âˆ’</mo><msub><mi>E</mi><mrow><mi>P</mi><mi>R</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">ES_y = E_{BL,y} - E_{PR,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/calculate_emission_reductions.html">calculate_emission_reductions()</a></code>
</td>
<td style="text-align:left;">
<code>calculate_emission_reductions(energy_savings, emission_factor, savings_col = "energy_savings_mwh", output_col = "emission_reductions_tco2e")</code>
</td>
<td style="text-align:left;">
Converts energy savings to emission reductions using emission
factors.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><mi>E</mi><msub><mi>S</mi><mi>y</mi></msub><mo>Ã—</mo><mi>E</mi><msub><mi>F</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">ER_y = ES_y \times EF_y</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/aggregate_monitoring_periods.html">aggregate_monitoring_periods()</a></code>
</td>
<td style="text-align:left;">
<code>aggregate_monitoring_periods(efficiency_data, monitoring_cols = c("year", "month"), group_cols = "site_id", baseline_energy_col = "baseline_energy_mwh", project_energy_col = "project_energy_mwh", emission_factor_col = "emission_factor_tco2e_mwh")</code>
</td>
<td style="text-align:left;">
Rolls monitoring data to reporting periods with energy and emission
summaries.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>R</mi><mrow><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><msub><mi>E</mi><mrow><mi>B</mi><mi>L</mi><mo>,</mo><mi>i</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>âˆ’</mo><msub><mo>âˆ‘</mo><mi>i</mi></msub><msub><mi>E</mi><mrow><mi>P</mi><mi>R</mi><mo>,</mo><mi>i</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>Ã—</mo><mi>E</mi><msub><mi>F</mi><mrow><mi>p</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">ER_{p,y} = (\sum_i E_{BL,i,p,y} - \sum_i E_{PR,i,p,y}) \times EF_{p,y}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/estimate_emission_reductions_ams_iic.html">estimate_emission_reductions_ams_iic()</a></code>
</td>
<td style="text-align:left;">
<code>estimate_emission_reductions_ams_iic(baseline_data, project_data, emission_factor, group_cols = NULL, baseline_energy_col = "baseline_energy_mwh", project_energy_col = "project_energy_mwh")</code>
</td>
<td style="text-align:left;">
High-level wrapper composing baseline, project, and reduction
helpers.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>E</mi><mrow><mi>B</mi><mi>L</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>âˆ’</mo><msub><mi>E</mi><mrow><mi>P</mi><mi>R</mi><mo>,</mo><mi>y</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>Ã—</mo><mi>E</mi><msub><mi>F</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">ER_y = (E_{BL,y} - E_{PR,y}) \times EF_y</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;">
<code><a href="../reference/simulate_ams_iic_dataset.html">simulate_ams_iic_dataset()</a></code>
</td>
<td style="text-align:left;">
<code>simulate_ams_iic_dataset(n_sites = 8, n_periods = 12, start_year = 2023, start_month = 1, baseline_energy_mean = 120, project_energy_mean = 75, emission_factor = 0.62)</code>
</td>
<td style="text-align:left;">
Generates representative efficiency datasets for demonstrations and
tests.
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="workflow-overview">Workflow Overview<a class="anchor" aria-label="anchor" href="#workflow-overview"></a>
</h2>
<pre><code><span><span class="co">## Warning: 'xfun::attr()' is deprecated.</span></span>
<span><span class="co">## Use 'xfun::attr2()' instead.</span></span>
<span><span class="co">## See help("Deprecated")</span></span></code></pre>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Step
</th>
<th style="text-align:left;">
Purpose
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Input efficiency monitoring data
</td>
<td style="text-align:left;">
Collect site-level baseline and project energy measurements.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_baseline_energy_consumption
</td>
<td style="text-align:left;">
Aggregate baseline energy consumption prior to retrofits.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_project_energy_consumption
</td>
<td style="text-align:left;">
Aggregate project energy consumption after retrofits.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_energy_savings
</td>
<td style="text-align:left;">
Compute savings that feed subsequent emission calculations.
</td>
</tr>
<tr>
<td style="text-align:left;">
calculate_emission_reductions
</td>
<td style="text-align:left;">
Convert energy savings to emission reductions using emission factors.
</td>
</tr>
<tr>
<td style="text-align:left;">
estimate_emission_reductions_ams_iic
</td>
<td style="text-align:left;">
Return a tidy tibble with reductions and supporting diagnostics.
</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Christiaan Pauw.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
